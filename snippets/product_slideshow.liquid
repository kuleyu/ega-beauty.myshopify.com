{% if product.images.size == 1 %}
<img src='{{ featured_image | img_url: "grande" }}' alt='{{ featured_image.alt | escape }}' />
{% elsif product.images.size > 1 %}
<div id='product_image_slide_main'>
  {% for image in product.images %}
  <div class='slick-slide'>
    <img src='{{ image | img_url: 'grande' }}' alt='{{ image.alt | escape }}'/>
  </div>
  {% endfor %}
</div>
<div id='product_image_slide_thumb' class='slide_thumb'>
  {% for image in product.images %}
  <div class='slick-slide'>
    <img src='{{ image | img_url: 'compact' }}' alt='{{ image.alt | escape }}'/>
  </div>
  {% endfor %}
</div>
<script>
  document.addEventListener('DOMContentLoaded', function(event) {
    $('#product_image_slide_main').slick({
      slidesToShow: 1,
      slidesToScroll: 1,
      fade: true,
      arrows: false,
      asNavFor: '#product_image_slide_thumb'
    })

    $('#product_image_slide_thumb').slick({
      slidesToShow: 3,
      slidesToScroll: 1,
      asNavFor: '#product_image_slide_main',
      focusOnSelect: true,
      prevArrow: '<button type="button" class="slick-prev"><i class="fa fa-angle-left"></i></button>',
      nextArrow: '<button type="button" class="slick-next"><i class="fa fa-angle-right"></i></button>'
    })
  })
</script>
{% endif %}